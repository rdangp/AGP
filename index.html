<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Office Outing ‚Äî Mini Games</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --glass: rgba(255,255,255,0.03);
      --success:#16a34a; --danger:#ef4444;
      font-synthesis: none;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:linear-gradient(180deg,#071029 0%, #081226 100%); color:#e6eef6; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px}
    .container{width:100%;max-width:1100px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    header h1{font-size:20px;margin:0}
    header p{color:var(--muted);margin:0;font-size:13px}

    .grid{display:grid;grid-template-columns:300px 1fr;gap:18px}
    nav{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    nav button{display:block;width:100%;background:transparent;border:0;color:inherit;padding:10px 12px;border-radius:8px;text-align:left;cursor:pointer;font-size:14px}
    nav button.active{background:linear-gradient(90deg, rgba(6,182,212,0.12), rgba(6,182,212,0.06));border-left:3px solid var(--accent)}

    main{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;min-height:420px;box-shadow:0 6px 28px rgba(2,6,23,0.6)}

    .game-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .game-title h2{margin:0;font-size:18px}
    .controls{display:flex;gap:10px}
    .btn{background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:10px;color:inherit;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent), #60a5fa);color:#021025;border:none}

    /* QUIZ */
    .quiz-question{font-size:16px;margin-bottom:12px}
    .options{display:grid;gap:8px}
    .option{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
    .option.correct{outline:2px solid rgba(22,163,74,0.2);border-color:var(--success);}
    .option.wrong{outline:2px solid rgba(239,68,68,0.12);border-color:var(--danger)}

    /* Memory */
    .grid-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:10px}
    .card{aspect-ratio:1/1;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;user-select:none}
    .card.flipped{background:var(--accent);color:#01202a}

    /* Reaction */
    .playfield{position:relative;height:260px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));overflow:hidden}
    .target{position:absolute;width:56px;height:56px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;cursor:pointer;transform:translate(-50%,-50%)}

    /* RPS */
    .rps-row{display:flex;gap:12px;align-items:center}
    .rps-btn{padding:12px 18px;border-radius:10px;border:0;background:rgba(255,255,255,0.03);cursor:pointer}

    footer.small{margin-top:14px;color:var(--muted);font-size:13px}

    @media (max-width:880px){.grid{grid-template-columns:1fr;}.container{padding:8px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Office Outing ‚Äî Mini Games</h1>
        <p>Play quick games in the browser: Quiz ¬∑ Memory ¬∑ Reaction ¬∑ RPS ‚Äî Track team scores locally</p>
      </div>
      <div class="controls">
        <button id="resetScores" class="btn">Reset Scores</button>
        <button id="download" class="btn primary">Download HTML</button>
      </div>
    </header>

    <div class="grid">
      <nav>
        <button class="tab-btn active" data-tab="quiz">1 ‚Äî Quiz (Trivia)</button>
        <button class="tab-btn" data-tab="memory">2 ‚Äî Memory Match</button>
        <button class="tab-btn" data-tab="reaction">3 ‚Äî Reaction Click</button>
        <button class="tab-btn" data-tab="rps">4 ‚Äî Rock Paper Scissors</button>
        <hr style="border:none;border-top:1px dashed rgba(255,255,255,0.02);margin:10px 0">
        <div style="font-size:13px;color:var(--muted)">Local scores</div>
        <div id="scoreboard" style="margin-top:8px"></div>
      </nav>

      <main>
        <div id="content">
          <!-- QUIZ -->
          <section id="quiz" class="tab" style="display:block">
            <div class="game-title">
              <h2>Trivia Quickfire</h2>
              <div id="quiz-info" style="color:var(--muted);font-size:13px">Score: <span id="quizScore">0</span> ¬∑ Q <span id="quizIndex">1</span>/5</div>
            </div>
            <div class="quiz-question" id="quizQuestion">Loading...</div>
            <div class="options" id="quizOptions"></div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button id="nextQ" class="btn">Next</button>
              <button id="shuffleQuiz" class="btn">Shuffle Questions</button>
            </div>
          </section>

          <!-- MEMORY -->
          <section id="memory" class="tab" style="display:none">
            <div class="game-title">
              <h2>Memory Match</h2>
              <div style="color:var(--muted);font-size:13px">Pairs found: <span id="pairsFound">0</span>/<span id="totalPairs">6</span></div>
            </div>
            <div class="grid-cards" id="memoryGrid"></div>
            <div style="margin-top:12px;display:flex;gap:8px"><button id="restartMemory" class="btn">Restart</button></div>
          </section>

          <!-- REACTION -->
          <section id="reaction" class="tab" style="display:none">
            <div class="game-title">
              <h2>Reaction Click</h2>
              <div style="color:var(--muted);font-size:13px">Best time: <span id="bestTime">‚Äî</span> ms</div>
            </div>
            <div class="playfield" id="playfield">
              <div id="target" class="target" style="left:50%;top:50%;">Go</div>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px"><button id="startReaction" class="btn primary">Start</button><button id="stopReaction" class="btn">Stop</button></div>
          </section>

          <!-- RPS -->
          <section id="rps" class="tab" style="display:none">
            <div class="game-title">
              <h2>Rock ¬∑ Paper ¬∑ Scissors</h2>
              <div style="color:var(--muted);font-size:13px">First to 3 wins!</div>
            </div>
            <div style="margin-bottom:12px">Choose:</div>
            <div class="rps-row">
              <button class="rps-btn" data-move="rock">‚úä Rock</button>
              <button class="rps-btn" data-move="paper">üñêÔ∏è Paper</button>
              <button class="rps-btn" data-move="scissors">‚úåÔ∏è Scissors</button>
            </div>
            <div style="margin-top:16px;color:var(--muted)">
              <div>Round: <span id="rpsRound">0</span></div>
              <div>Result: <span id="rpsResult">‚Äî</span></div>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px"><button id="resetRPS" class="btn">Reset RPS</button></div>
          </section>

        </div>

        <footer class="small">Tip: open this file in any modern browser. Scores stored in localStorage per browser.</footer>
      </main>
    </div>
  </div>

  <script>
    /* ---------- App state ---------- */
    const tabs = document.querySelectorAll('.tab-btn');
    tabs.forEach(btn=>btn.addEventListener('click',()=>{
      tabs.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      document.querySelectorAll('.tab').forEach(t=>t.style.display='none');
      document.getElementById(btn.dataset.tab).style.display='block';
    }));

    // Scoreboard (localStorage)
    const SCORE_KEY = 'office_outing_scores_v1';
    let scoreboard = JSON.parse(localStorage.getItem(SCORE_KEY) || '{}');
    function saveScores(){ localStorage.setItem(SCORE_KEY, JSON.stringify(scoreboard)); renderScores(); }
    function renderScores(){
      const el = document.getElementById('scoreboard');
      if(Object.keys(scoreboard).length===0){ el.innerHTML = '<div style="color:var(--muted);font-size:13px">No scores yet ‚Äî play and add a name!</div>'; return }
      el.innerHTML = Object.entries(scoreboard).map(([k,v])=>`<div style="display:flex;justify-content:space-between;padding:6px 0"><strong>${k}</strong><span style="color:var(--muted)">${v}</span></div>`).join('');
    }
    renderScores();
    document.getElementById('resetScores').addEventListener('click',()=>{ if(confirm('Reset all local scores?')){scoreboard={}; saveScores();}})

    document.getElementById('download').addEventListener('click', ()=>{
      const blob = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='office-outing-minigames.html'; a.click(); URL.revokeObjectURL(url);
    });

    /* ---------- QUIZ GAME ---------- */
    const quizData = [
      {q:'Which country invented instant noodles?', a:['Japan','South Korea','China','USA'], correct:2},
      {q:'What year did the internet become widely available to the public?', a:['1983','1991','1998','2004'], correct:1},
      {q:'Which of these is NOT a JavaScript framework?', a:['React','Django','Vue','Angular'], correct:1},
      {q:'Which planet is known as the Red Planet?', a:['Venus','Mars','Jupiter','Saturn'], correct:1},
      {q:'How many minutes are in 2 hours and 15 minutes?', a:['125','120','135','150'], correct:0}
    ];
    let quizIndex=0, quizScore=0, quizOrder = shuffle([...Array(quizData.length).keys()]);

    function renderQuiz(){
      const idx = quizOrder[quizIndex];
      document.getElementById('quizIndex').textContent = quizIndex+1;
      document.getElementById('quizScore').textContent = quizScore;
      const Q = quizData[idx];
      document.getElementById('quizQuestion').textContent = Q.q;
      const opts = document.getElementById('quizOptions'); opts.innerHTML='';
      Q.a.forEach((opt,i)=>{
        const d = document.createElement('div'); d.className='option'; d.textContent = opt;
        d.addEventListener('click', ()=> handleAnswer(d,i===Q.correct));
        opts.appendChild(d);
      });
    }
    function handleAnswer(el,correct){
      // disable options
      document.querySelectorAll('#quizOptions .option').forEach(o=>o.style.pointerEvents='none');
      if(correct){ el.classList.add('correct'); quizScore+=10; document.getElementById('quizScore').textContent=quizScore; }
      else{ el.classList.add('wrong'); // highlight correct
        const idx = quizOrder[quizIndex]; const corr = quizData[idx].correct;
        document.querySelectorAll('#quizOptions .option')[corr].classList.add('correct');
      }
      // prompt to add name to scoreboard
      setTimeout(()=>{
        const name = prompt('Enter team/player name to save score (or Cancel):');
        if(name){ scoreboard[name] = Math.max(scoreboard[name]||0, quizScore); saveScores(); }
      },400);
    }

    document.getElementById('nextQ').addEventListener('click', ()=>{
      quizIndex = (quizIndex+1) % quizOrder.length;
      renderQuiz();
    });
    document.getElementById('shuffleQuiz').addEventListener('click', ()=>{ quizOrder = shuffle([...Array(quizData.length).keys()]); quizIndex=0; quizScore=0; renderQuiz(); });
    renderQuiz();

    /* ---------- MEMORY GAME ---------- */
    const icons = ['üçé','üçå','üçá','üçì','üçç','ü•ù','üçë','üçí'];
    let memoryPairs = 6; // initial
    function startMemory(){
      const grid = document.getElementById('memoryGrid'); grid.innerHTML='';
      const pairs = icons.slice(0,memoryPairs);
      const deck = shuffle([...pairs,...pairs]);
      document.getElementById('totalPairs').textContent = memoryPairs;
      let flippedIndex = null; let found = 0;
      deck.forEach((val,i)=>{
        const c = document.createElement('div'); c.className='card'; c.dataset.val=val; c.dataset.idx=i; c.textContent='?';
        c.addEventListener('click', ()=>{
          if(c.classList.contains('flipped') || c.classList.contains('found')) return;
          c.classList.add('flipped'); c.textContent = val;
          if(flippedIndex===null){ flippedIndex = i; }
          else{
            const first = grid.querySelector('[data-idx="'+flippedIndex+'"]');
            if(first.dataset.val === c.dataset.val){ // matched
              first.classList.add('found'); c.classList.add('found'); found++; document.getElementById('pairsFound').textContent = found;
              if(found===memoryPairs){ setTimeout(()=>{ const name=prompt('You matched all pairs! Save score name?'); if(name){ scoreboard[name] = (scoreboard[name]||0)+100; saveScores(); }},300) }
            } else { // not matched
              setTimeout(()=>{ first.classList.remove('flipped'); first.textContent='?'; c.classList.remove('flipped'); c.textContent='?'; },800);
            }
            flippedIndex = null;
          }
        });
        grid.appendChild(c);
      });
      document.getElementById('pairsFound').textContent = 0;
    }
    document.getElementById('restartMemory').addEventListener('click', ()=> startMemory());
    startMemory();

    /* ---------- REACTION GAME ---------- */
    let reactionRunning=false; let targetTimer=null; let startTime=0; let best=Infinity;
    const playfield = document.getElementById('playfield'); const target = document.getElementById('target');
    function randomPos(){
      const w = playfield.clientWidth; const h = playfield.clientHeight; const x = Math.random()*(w-80)+40; const y = Math.random()*(h-80)+40; return {x,y};
    }
    function placeTarget(){ const p=randomPos(); target.style.left = p.x+'px'; target.style.top = p.y+'px'; }
    function startReaction(){ if(reactionRunning) return; reactionRunning=true; target.textContent='WAIT'; target.style.pointerEvents='none';
      const delay = Math.random()*2000+800; targetTimer = setTimeout(()=>{ placeTarget(); target.textContent='CLICK'; target.style.pointerEvents='auto'; startTime = performance.now(); }, delay);
    }
    function stopReaction(){ reactionRunning=false; clearTimeout(targetTimer); target.textContent='Go'; target.style.pointerEvents='none'; }
    target.addEventListener('click', ()=>{
      if(!reactionRunning || startTime===0) return; const t = Math.round(performance.now()-startTime); startTime=0; reactionRunning=false; target.style.pointerEvents='none';
      alert('Reaction: '+t+' ms'); if(t<best){ best=t; document.getElementById('bestTime').textContent = best; const name=prompt('New best! Save name?'); if(name){ scoreboard[name] = Math.max(scoreboard[name]||0, best); saveScores(); }}
    });
    document.getElementById('startReaction').addEventListener('click', startReaction);
    document.getElementById('stopReaction').addEventListener('click', stopReaction);

    /* ---------- RPS ---------- */
    let rpsRound=0; let rpsScore = {you:0,bot:0};
    function playRPS(move){ const choices=['rock','paper','scissors']; const bot = choices[Math.floor(Math.random()*3)];
      rpsRound++; document.getElementById('rpsRound').textContent = rpsRound;
      let outcome='Draw';
      if(move===bot) outcome='Draw';
      else if((move==='rock'&&bot==='scissors')||(move==='paper'&&bot==='rock')||(move==='scissors'&&bot==='paper')){ outcome='You win'; rpsScore.you++; }
      else{ outcome='Bot wins'; rpsScore.bot++; }
      document.getElementById('rpsResult').textContent = `You: ${move} ‚Äî Bot: ${bot} ¬∑ ${outcome} (You ${rpsScore.you} : Bot ${rpsScore.bot})`;
      if(rpsScore.you===3 || rpsScore.bot===3){ setTimeout(()=>{
        const winner = rpsScore.you>rpsScore.bot? 'You' : 'Bot'; const name = prompt(`${winner} reached 3 wins! Save name to scoreboard?`);
        if(name){ scoreboard[name] = (scoreboard[name]||0) + (rpsScore.you>rpsScore.bot? 300: 50); saveScores(); }
      },200);
      }
    }
    document.querySelectorAll('.rps-btn').forEach(b=>b.addEventListener('click', ()=> playRPS(b.dataset.move)));
    document.getElementById('resetRPS').addEventListener('click', ()=>{ rpsRound=0; rpsScore={you:0,bot:0}; document.getElementById('rpsRound').textContent=0; document.getElementById('rpsResult').textContent='‚Äî'; });

    /* ---------- Utilities ---------- */
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; }
      return arr;
    }

    // small UI: when switching tabs stop running timers
    document.querySelectorAll('.tab-btn').forEach(b=>b.addEventListener('click', ()=>{ stopReaction(); }));

  </script>
</body>
</html>
